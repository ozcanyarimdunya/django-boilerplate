{% extends 'base.html' %}

{% block style %}
  <style>
    #map {
      width: 100%;
      height: 80vh;
    }
  </style>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css"/>
  <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"></script>

{% endblock style %}

{% block content %}
  <div class="row">
    <div class="col">
      <div id='map'></div>
    </div>
  </div>
{% endblock content %}

{% block script %}
  <script>
    const cities = L.layerGroup();

    L.marker([39.61, -105.02]).bindPopup('This is Littleton, CO.').addTo(cities),
      L.marker([39.74, -104.99]).bindPopup('This is Denver, CO.').addTo(cities),
      L.marker([39.73, -104.8]).bindPopup('This is Aurora, CO.').addTo(cities),
      L.marker([39.77, -105.23]).bindPopup('This is Golden, CO.').addTo(cities);


    const mbUrl = 'https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw';

    const grayscale = L.tileLayer(mbUrl, {id: 'mapbox.light', attribution: null}),
      streets = L.tileLayer(mbUrl, {id: 'mapbox.streets', attribution: null});

    const map = L.map('map', {
      center: [39.73, -104.99],
      zoom: 10,
      layers: [grayscale, cities]
    });

    const baseLayers = {
      "Grayscale": grayscale,
      "Streets": streets
    };

    const overlays = {
      "Cities": cities
    };

    L.control.layers(baseLayers, overlays).addTo(map);
  </script>
{% endblock script %}
